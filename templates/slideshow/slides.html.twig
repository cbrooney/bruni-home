<body>
    {% for directoryEntry in directoryEntries %}
        <input class="filenames" type="hidden" name="filenames-{{ directoryEntry }}" value="{{ directoryEntry }}">
    {% endfor %}

    <div id="filename">Dateiname: </div>
    <div class="rahmen" id="myPicture">
        <img loading=lazy id="hochkantBg" class="imagesHoch" src="bilder/PXL_20210622_045016400.jpg">
        <img loading=lazy id="hochkant" class="imagesHoch" src="bilder/PXL_20210622_045016400.jpg">
    </div>
</body>

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            let filenames = document.getElementsByClassName('filenames');

            for (let i in filenames) {
                let figure = filenames[i].value;
                if (figure === undefined) {
                    continue;
                }

                if (i === 2) {
                    break;
                }
                delay(function(){
                    setFigure(figure);
                }, 1000 ); // end delay
            }
        });

        function setFigure(filename)
        {
            document.getElementById("filename").innerHTML = '<h1 id="filename">Dateiname: ' + filename + '' + '</h1>';
            document.getElementById("hochkant").src = 'bilder/' + filename;
            document.getElementById("hochkantBg").src = 'bilder/' + filename;
        }

        var delay = (function () {
            var timer = 0;
            return function (callback, ms) {
                clearTimeout(timer);
                timer = setTimeout(callback, ms);
            };
        })();

        //     var myIndex = 0;
        //     var currentVid =0;
        //     // slideShow();
        //     function slideShow() {
        //         var i;
        //         var x = document.getElementsByClassName("rahmen");
        //         var vids = document.getElementsByClassName("videoFile");
        //         var vidsId = document.getElementById("querVid");
        //         var numberOfVids = vids.length;
        //         var timeoutLength = 10000;
        //         var curDuration = 0;
        //
        //
        //         for (i = 0; i < x.length; i++) {
        //             x[i].style.display = "none";
        //         }
        //
        //
        //         // if (currentVid == 0) {
        //         //   vids[numberOfVids-1].pause();
        //         //   vids[numberOfVids-1].currentTime = 0;
        //         // }else {
        //         //   vids[currentVid-1].pause();
        //         //   vids[currentVid-1].currentTime = 0;
        //         // }
        //
        //
        //
        //         myIndex++;
        //         if (myIndex > x.length) {myIndex = 1}
        //
        //         //console.log(x[myIndex-1].id);
        //         //console.log(vids);
        //
        //         if (x[myIndex-1].id == "myVideo")
        //         {
        //             x[myIndex-1].style.display = "block";
        //             vids[currentVid].play();
        //             curDuration = vids[currentVid].duration;
        //             if (!isNaN(curDuration)) {
        //                 timeoutLength = 1000 + curDuration * 1000;
        //             }
        //
        //             currentVid++;
        //             if(currentVid >= numberOfVids){currentVid = 0}
        //
        //         }else if(x[myIndex-1].id == "myPicture")
        //         {
        //             x[myIndex-1].style.display = "block";
        //         }
        //
        // //    picId[myIndex].scrolltoView();
        //
        //         setTimeout(slideShow, timeoutLength);
        //     }
    </script>
{% endblock %}


<style>
    body{
        background-color: black;
        color: green;
    }

    #quer{
        width: auto;
        height: 100vh;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: auto;
    }
    #querVid{
        width: auto;
        height: 100vh;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: auto;
    }
    #hochkantBg
    {
        display:flex;
        justify-content: center;
        align-items: center;
        margin-left: auto;
        margin-right: auto;
        margin-top: auto;
        z-index:0;
        filter: blur(20px);
        -webkit-filter: blur(20px);
        opacity: 0.8;
        width: 100%;
        height: 100vh;
    }
    #hochkant
    {
        position: relative;
        display:flex;
        justify-content: center;
        align-items: center;
        margin-left: auto;
        margin-right: auto;
        margin-top: -100vh;
        z-index:1;
        height: 100vh;
    }
</style>
